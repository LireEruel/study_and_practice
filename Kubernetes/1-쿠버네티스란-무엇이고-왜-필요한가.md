## 1\. 쿠버네티스란? 

쿠버네티스는 컨테이너화된 애플리케이션을 자동으로 **배포, 확장, 관리**해주는 오픈소스 플랫폼입니다.

여러 서버에 걸쳐 있는 컨테이너들을 효율적으로 운영할 수 있도록 도와주는 **컨테이너 오케스트레이션 도구**입니다.

> Kubernetes는 **K8s**로 줄여부르는 경우가 많습니다. 이건 K와 s 사이의 8글자를 줄여서 표현한 것입니다.

### 1.1 쿠버네티스가 왜 중요한가요? 

소프트웨어 기술이 발전하며, 서비스들이 복잡해졌습니다. 이에 따라 거대한 하나의 큰 아키텍처 (Monolithic) 로는 한계가 있습니다. 예를들어, Instagram을 하나의 서비스로 구축할 수 있을까요? 단순한 앱의 Frontend와 Backend는 물론이고 추천알고리즘, 광고, 신고, 필터링, DM, Live streaming... 이 모든 것을 하나에 구축할 수는 없을겁니다. 만약 한다고 해도, 한 서비스에 장애가 발생하면 모든 서비스에 영향이 생기죠.

그래서 최신 서비스들은 대부분 마이크로서비스 아키텍처(MSA)를 선택하게 됩니다.

큰 서비스를 작은 단위의 서비스로 쪼개서 개발, 배포, 운영하는 방식입니다. 이렇게 하면 개발 및 운영을 안정적으로 할 수 있다는 장점이 있습니다.

하지만 구축 방법이 쉽지 않습니다.

흔한 MSA의 요구사항

- 각 마이크로서비스는 **별도 컨테이너로 분리**되어 배포
- 서비스마다 **스케일링** 요구가 다름
- 장애가 난 컨테이너는 **자동 복구** 필요
- 여러 컨테이너 간의 **서비스 디스커버리**와 **로드 밸런싱**
- 무중단 배포가 포함된 **CI/CD**

이 모든 운영 복잡성을 **자동화**하고 **추상화**해주는 **플랫폼**이 바로 **쿠버네티스**입니다.

따라서 Dev ops는 물론이고 Frontend, Backend 개발자를 꿈꾼다면 쿠버네티스 또한 떼놓을 수 없습니다.

### 1.2  MSA에서의 쿠버네티스 핵심 기능

| **MSA의 요구사항**                 | **쿠버네티스의 솔루션**                              |
| ---------------------------------- | ---------------------------------------------------- |
| 서비스 수 증가 -> 운영 복잡도 증가 | 컨테이너 자동 배포 및 관리 (Deployment)              |
| 서비스 장애 발생                   | 헬스 체크 & 자동 재시작 (Liveness / Readiness Probe) |
| 각 서비스의 다른 부하 대응         | 수평 확장 자동화 (Horizontal Pod Autoscaler)         |
| 서비스 간 통신                     | 클러스터 내부 DNS 기반 서비스 디스커버리             |
| 잦은 변경사항 및 배포              | 롤링 업데이트, 롤백 기능                             |
| 환경별 설정 분리 필요              | ConfigMap, Secret을 통한 설정 분리                   |

### 2\. 쿠버네티스의 구성요소

> 쿠버네티스 클러스터는 컴퓨터 집합인 노트 컴포넌트와 컨트롤 플레인 컴포넌트로 구성된다.

[##_Image|kage@bpMFLQ/btsNRRIpvRu/W6ICe9Tj4gGkeH4h54waW0/img.jpg|CDM|1.3|{"originWidth":939,"originHeight":439,"style":"alignCenter","width":702,"height":328,"caption":"쿠버네티스 클러스터 구성 요소"}_##]

- 쿠버네티스를 배포하면 클러스터를 얻는다.
- 쿠버네티스 클러스터는 컨테이너화된 애플리케이션을 실행하는 Node의 집합.
  - 모든 클러스터는 최소 한개의 Worker Node를 갖는다.
  - Node : 쿠버네티스의 작업 장비이다. 하나의 컴퓨터라고 생각해도 좋습니다.
- Worker Node는 애플리케이션의 구성요소인 Pod를 호스트한다.
- Control Plane은 워커 노드와 클러스터 내 Pod를 관리한다.
- 프로덕션 환경에서는 일반적으로 Control Plane이 여러 컴퓨터에 걸쳐 실행되고, 클러스터는 일반적으로 여러 노드를 실행함으로 **내결함성**과 **고가용성**이 제공된다.

### 3\. 마무리

MSA는 유연하고 독립적인 서비스 구조를 제공하지만, 운영 복잡성이 커진다.  
쿠버네티스는 이 복잡성을 자동화하고 관리해주어, MSA를 실제 운영 환경에 안정적으로 적용할 수 있도록 돕는 (사실상)  **표준 플랫폼**이다.

최근 약 1달간 쿠버네티스를 공부하며 들은 느낀점은, 이 각 컴포넌트가 정말 다양하고 또 그리 간단하지는 않아서 세부적으로 잘 이해하는게 중요하다고 느껴진다.

다음부터는 각 컴포넌트에 대해 세부적으로 정리해보려고 한다.

### 4\. 출처

[https://kubernetes.io/ko/docs/concepts/overview/](https://kubernetes.io/ko/docs/concepts/overview/)

[https://kubernetes.io/ko/docs/concepts/overview/components/](https://kubernetes.io/ko/docs/concepts/overview/components/)
